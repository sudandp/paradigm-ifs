import{w as B,x as L,y as R,j as e,T as D,B as p,p as d,z as F,n as U,m as l,I as f}from"./index-D5q3SS3D.js";import{b as y,R as q}from"./react-vendor-BUaIliXj.js";import{U as A}from"./UploadDocument-BAL6UInC.js";import{X as z,aB as P,o as H,at as V,aC as W,A as G,aD as J,D as _,p as Y,aE as O,$ as I,a5 as K}from"./ui-vendor-B8EvWqdc.js";import"./pdf-vendor-CB_F1AVu.js";import"./capacitor-vendor-CqiIOUn1.js";import"./utils-vendor-DmorxLnX.js";import"./supabase-7WG3J4rU.js";import"./CameraCaptureModal-DQDGRnEP.js";const C=({title:s,icon:t,children:m})=>e.jsxs("div",{className:"bg-page p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(t,{className:"h-5 w-5 text-accent-dark mr-3"}),e.jsx("h4",{className:"font-semibold text-primary-text",children:s})]}),e.jsx("div",{className:"space-y-4",children:m})]}),X=({isOpen:s,onClose:t})=>{const{currentLogo:m,defaultLogo:o,setCurrentLogo:x,setDefaultLogo:n,resetToDefault:S,resetToOriginal:j}=B(),{backgroundImages:v,addBackgroundImage:w,removeBackgroundImage:k}=L(),h=R(),[a,i]=y.useState(null),u=c=>{if(c){const r=new FileReader;r.readAsDataURL(c.file),r.onloadend=()=>{const N=r.result;x(N),i({message:"Active logo updated!",type:"success"})},r.onerror=()=>{i({message:"Failed to read logo file.",type:"error"})}}},b=()=>{n(),i({message:"Active logo has been set as the new default.",type:"success"})},M=()=>{S(),i({message:"Logo has been reset to your default.",type:"success"})},T=()=>{j(),i({message:"Logo has been reset to the system original.",type:"success"})},E=c=>{if(c&&!c.url){const r=new FileReader;r.readAsDataURL(c.file),r.onloadend=()=>{const N=r.result,$=w(N);i($?{message:"Background image added.",type:"success"}:{message:"This image has already been added.",type:"error"})},r.onerror=()=>{i({message:"Failed to read image file.",type:"error"})}}};return s?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 p-4",onClick:t,children:[a&&e.jsx(D,{message:a.message,type:a.type,onDismiss:()=>i(null)}),e.jsxs("div",{className:"bg-card rounded-xl shadow-card w-full max-w-4xl my-8 animate-fade-in-scale flex flex-col",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-bold text-primary-text",children:"Page Interface Settings"}),e.jsx(p,{variant:"icon",onClick:t,children:e.jsx(z,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"flex-grow overflow-y-auto p-6 space-y-6 max-h-[75vh]",children:[e.jsxs(C,{title:"Branding & Logo",icon:P,children:[e.jsx("p",{className:"text-sm text-muted -mt-2",children:"Manage the active and default logos for your application."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 pt-4 items-start",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold text-primary-text",children:"Active Logo"}),e.jsx("div",{className:"p-4 border rounded-lg bg-page flex justify-center items-center min-h-[120px]",children:e.jsx("img",{src:m,alt:"Current Active Logo",className:"max-h-24 w-auto"})}),e.jsx(A,{label:"Change Active Logo",file:null,onFileChange:u,allowedTypes:["image/jpeg","image/png"]})]}),e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold text-primary-text",children:"Default Logo"}),e.jsx("div",{className:"p-4 border rounded-lg bg-page flex justify-center items-center min-h-[120px]",children:e.jsx("img",{src:o,alt:"Default Logo",className:"max-h-24 w-auto"})})]}),e.jsx("div",{className:"flex-grow"}),e.jsxs("div",{className:"space-y-2 mt-4",children:[e.jsx(p,{type:"button",className:"w-full",onClick:b,children:"Set Active Logo as Default"}),e.jsx(p,{type:"button",className:"w-full",variant:"outline",onClick:M,children:"Use Default Logo"}),e.jsx("div",{className:"text-center pt-2",children:e.jsx("button",{type:"button",onClick:T,className:"text-xs text-muted hover:text-primary-text underline",children:"Reset to System Original"})})]})]})]})]}),e.jsxs(C,{title:"Login Screen Background",icon:H,children:[e.jsx("p",{className:"text-sm text-muted -mt-2",children:"Manage the background images for the login screen carousel."}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:v.map((c,r)=>e.jsxs("div",{className:"relative group aspect-video bg-page rounded-md overflow-hidden",children:[e.jsx("img",{src:c,className:"w-full h-full object-cover",alt:`Background ${r+1}`}),e.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx(p,{variant:"icon",onClick:()=>k(r),className:"!rounded-full !bg-white/20 hover:!bg-white/40",children:e.jsx(V,{className:"h-5 w-5 text-white"})})})]},`${c.substring(0,30)}-${r}`))}),e.jsx("div",{className:"mt-4",children:e.jsx(A,{label:"Add new background image",file:null,onFileChange:E,allowedTypes:["image/jpeg","image/png","image/webp"]})})]}),e.jsxs(C,{title:"Interaction Settings",icon:W,children:[e.jsx("p",{className:"text-sm text-muted -mt-2",children:"Customize hover and auto-scroll behaviors for easier navigation."}),e.jsxs("div",{className:"space-y-4 pt-4",children:[e.jsx(d,{id:"auto-click-hover-modal",label:"Enable Auto-Click on Hover",description:"Automatically switch tabs or pages by hovering over them.",checked:h.autoClickOnHover,onChange:h.setAutoClickOnHover}),e.jsx(d,{id:"auto-scroll-hover-modal",label:"Enable Auto-Scroll on Hover",description:"Automatically scroll the page by hovering over the up/down arrows.",checked:h.autoScrollOnHover,onChange:h.setAutoScrollOnHover})]})]})]}),e.jsx("div",{className:"p-4 border-t flex justify-end",children:e.jsx(p,{variant:"primary",onClick:t,children:"Done"})})]})]}):null},g=({title:s,icon:t,children:m,className:o})=>e.jsxs("div",{className:`border-0 shadow-none lg:bg-card lg:p-6 lg:rounded-xl lg:shadow-card ${o||""}`,children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"p-3 rounded-full bg-accent-light mr-4",children:e.jsx(t,{className:"h-6 w-6 text-accent-dark"})}),e.jsx("div",{children:e.jsx("h3",{className:"text-lg font-bold text-primary-text",children:s})})]}),e.jsx("div",{className:"space-y-4",children:m})]}),le=()=>{const{isMobile:s}=F(),t=U(),[m,o]=y.useState(!1),[x,n]=y.useState(null),[S,j]=y.useState(!1),[v,w]=y.useState([]),k=async()=>{try{const a=await l.getBackups();w(a)}catch(a){console.error("Failed to load backups:",a)}};q.useEffect(()=>{k()},[]);const h=async()=>{o(!0),n(null);try{const a=await l.exportAllData(),i=`data:text/json;charset=utf-8,${encodeURIComponent(JSON.stringify(a,null,2))}`,u=document.createElement("a");u.href=i,u.download=`paradigm_backup_${new Date().toISOString()}.json`,document.body.appendChild(u),u.click(),document.body.removeChild(u),n({message:"Data exported successfully!",type:"success"})}catch{n({message:"Failed to export data.",type:"error"})}finally{o(!1)}};return e.jsxs("div",{className:"space-y-8 p-4 md:p-0",children:[x&&e.jsx(D,{message:x.message,type:x.type,onDismiss:()=>n(null)}),e.jsx(X,{isOpen:S,onClose:()=>j(!1)}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-text",children:"System Settings"}),e.jsx("div",{className:"flex gap-3",children:e.jsx(p,{onClick:async()=>{try{o(!0),await l.saveApiSettings(t.apiSettings),await l.saveGeminiApiSettings(t.geminiApi),await l.saveOfflineOcrSettings(t.offlineOcr),await l.savePerfiosApiSettings(t.perfiosApi),await l.saveOtpSettings(t.otp),await l.saveSiteManagementSettings(t.siteManagement),await l.saveAddressSettings(t.address),await l.saveNotificationSettings(t.notifications),n({message:"Settings saved to database!",type:"success"})}catch(a){console.error("Failed to save settings:",a),n({message:"Failed to save settings to database.",type:"error"})}finally{o(!1)}},isLoading:m,children:"Save Changes"})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs(g,{title:"Page Interface",icon:P,children:[e.jsx("p",{className:"text-sm text-muted -mt-2",children:"Customize the application's branding, login screen, and user interaction settings."}),e.jsx("div",{className:"pt-4",children:e.jsx(p,{type:"button",onClick:()=>j(!0),children:"Open Interface Settings"})})]}),e.jsxs(g,{title:"Verification APIs",icon:G,children:[e.jsx("p",{className:"text-sm text-muted -mt-2",children:"Configure third-party services for employee verification."}),e.jsxs("div",{className:"space-y-6 pt-4",children:[e.jsx("div",{className:`p-4 border rounded-lg ${s?"border-[#1f3d2b] bg-[#041b0f]":"border-border bg-gray-50"}`,children:e.jsx(d,{id:"gemini-enabled",label:"Enable Gemini API OCR Verification",description:"Use Google's Gemini API for document data extraction. This is a powerful fallback or primary OCR. API key must be configured on the backend.",checked:t.geminiApi.enabled,onChange:a=>t.updateGeminiApiSettings({enabled:a.target.checked})})}),e.jsx("div",{className:`p-4 border rounded-lg ${s?"border-[#1f3d2b] bg-[#041b0f]":"border-border bg-gray-50"}`,children:e.jsx(d,{id:"offline-ocr-enabled",label:"Enable Offline OCR (Tesseract.js)",description:"Use browser-side Tesseract.js for document data extraction. Works offline and requires no API key, but may be less accurate for complex layouts.",checked:t.offlineOcr.enabled,onChange:a=>t.updateOfflineOcrSettings({enabled:a.target.checked})})}),e.jsxs("div",{className:`p-4 border rounded-lg ${s?"border-[#1f3d2b] bg-[#041b0f]":"border-border bg-gray-50"}`,children:[e.jsx(d,{id:"perfios-enabled",label:"Enable Perfios API Verification",description:"Use Perfios for Bank, Aadhaar, and UAN verification.",checked:t.perfiosApi.enabled,onChange:a=>t.updatePerfiosApiSettings({enabled:a.target.checked})}),e.jsxs("div",{className:`mt-4 space-y-4 transition-opacity ${t.perfiosApi.enabled?"opacity-100":"opacity-50 pointer-events-none"}`,children:[e.jsx(f,{label:"Perfios Client ID",className:"w-full",value:t.perfiosApi.clientId,onChange:a=>t.updatePerfiosApiSettings({clientId:a.target.value})}),e.jsx(f,{label:"Perfios Client Secret",type:"password",className:"w-full",value:t.perfiosApi.clientSecret,onChange:a=>t.updatePerfiosApiSettings({clientSecret:a.target.value})})]})]})]})]}),e.jsxs(g,{title:"Authentication Settings",icon:J,children:[e.jsx("p",{className:"text-sm text-muted -mt-2",children:"Manage how users sign in to the application."}),e.jsx("div",{className:"space-y-6 pt-4",children:e.jsx(d,{id:"otp-enabled",label:"Enable OTP Phone Sign-In",description:"Allow users to sign in using a one-time password sent via SMS.",checked:t.otp.enabled,onChange:a=>t.updateOtpSettings({enabled:a.target.checked})})})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs(g,{title:"Client & Site Management",icon:_,children:[e.jsx("p",{className:"text-sm text-muted -mt-2",children:"Control workflows for site creation and management."}),e.jsx("div",{className:"space-y-6 pt-4",children:e.jsx(d,{id:"enable-provisional-sites",label:"Enable Provisional Site Creation",description:"Allows HR/Admins to create a site with just a name, providing a 90-day grace period to complete the full configuration for easier onboarding.",checked:t.siteManagement.enableProvisionalSites,onChange:a=>t.updateSiteManagementSettings({enableProvisionalSites:a.target.checked})})})]}),e.jsxs(g,{title:"System & Data",icon:Y,children:[e.jsx("p",{className:"text-sm text-muted -mt-2",children:"Manage core system settings and data operations."}),e.jsxs("div",{className:"space-y-6 pt-4",children:[e.jsx(d,{id:"pincode-verification",label:"Enable Pincode API Verification",description:"Auto-fill City/State from pincode during onboarding.",checked:t.address.enablePincodeVerification,onChange:a=>t.updateAddressSettings({enablePincodeVerification:a.target.checked})}),e.jsxs("div",{className:`p-4 border rounded-lg ${s?"border-[#1f3d2b] bg-[#041b0f]":"border-border bg-gray-50"}`,children:[e.jsx(d,{id:"auto-backup",label:"Enable Automated Backups",description:"Automatically create a restoration point according to the chosen schedule.",checked:t.apiSettings.autoBackupEnabled||!1,onChange:a=>t.updateApiSettings({autoBackupEnabled:a.target.checked})}),t.apiSettings.autoBackupEnabled&&e.jsxs("div",{className:`mt-4 pt-4 border-t ${s?"border-white/10":"border-border"} grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4`,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"backup-frequency",className:`block text-xs font-bold uppercase tracking-wider mb-2 ${s?"text-white/70":"text-muted"}`,children:"Frequency"}),e.jsxs("select",{id:"backup-frequency",name:"backup-frequency",className:`w-full h-10 px-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-accent/40 ${s?"border-white/10 bg-[#062b1a] text-white":"border-border bg-white text-primary-text"}`,value:t.apiSettings.backupSchedule?.frequency||"daily",onChange:a=>t.updateApiSettings({backupSchedule:{...t.apiSettings.backupSchedule||{startTime:"00:00",interval:1},frequency:a.target.value}}),children:[e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"yearly",children:"Yearly"})]})]}),t.apiSettings.backupSchedule?.frequency==="weekly"&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"backup-day-of-week",className:`block text-xs font-bold uppercase tracking-wider mb-2 ${s?"text-white/70":"text-muted"}`,children:"Day of Week"}),e.jsxs("select",{id:"backup-day-of-week",name:"backup-day-of-week",className:`w-full h-10 px-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-accent/40 ${s?"border-white/10 bg-[#062b1a] text-white":"border-border bg-white text-primary-text"}`,value:t.apiSettings.backupSchedule?.dayOfWeek??0,onChange:a=>t.updateApiSettings({backupSchedule:{...t.apiSettings.backupSchedule||{frequency:"weekly",startTime:"00:00"},dayOfWeek:parseInt(a.target.value)}}),children:[e.jsx("option",{value:0,children:"Sunday"}),e.jsx("option",{value:1,children:"Monday"}),e.jsx("option",{value:2,children:"Tuesday"}),e.jsx("option",{value:3,children:"Wednesday"}),e.jsx("option",{value:4,children:"Thursday"}),e.jsx("option",{value:5,children:"Friday"}),e.jsx("option",{value:6,children:"Saturday"})]})]}),t.apiSettings.backupSchedule?.frequency==="monthly"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"backup-interval",className:`block text-xs font-bold uppercase tracking-wider mb-2 ${s?"text-white/70":"text-muted"}`,children:"Interval"}),e.jsxs("select",{id:"backup-interval",name:"backup-interval",className:`w-full h-10 px-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-accent/40 ${s?"border-white/10 bg-[#062b1a] text-white":"border-border bg-white text-primary-text"}`,value:t.apiSettings.backupSchedule?.interval??1,onChange:a=>t.updateApiSettings({backupSchedule:{...t.apiSettings.backupSchedule||{frequency:"monthly",startTime:"00:00"},interval:parseInt(a.target.value)}}),children:[e.jsx("option",{value:1,children:"Every Month"}),e.jsx("option",{value:3,children:"Every 3 Months"}),e.jsx("option",{value:6,children:"Every 6 Months"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"backup-day-of-month",className:`block text-xs font-bold uppercase tracking-wider mb-2 ${s?"text-white/70":"text-muted"}`,children:"Day of Month"}),e.jsx(f,{id:"backup-day-of-month",name:"backup-day-of-month",type:"number",min:1,max:31,className:"w-full",value:t.apiSettings.backupSchedule?.dayOfMonth??1,onChange:a=>t.updateApiSettings({backupSchedule:{...t.apiSettings.backupSchedule||{frequency:"monthly",startTime:"00:00"},dayOfMonth:parseInt(a.target.value)}})})]})]}),t.apiSettings.backupSchedule?.frequency==="yearly"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"backup-month-of-year",className:`block text-xs font-bold uppercase tracking-wider mb-2 ${s?"text-white/70":"text-muted"}`,children:"Month"}),e.jsxs("select",{id:"backup-month-of-year",name:"backup-month-of-year",className:`w-full h-10 px-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-accent/40 ${s?"border-white/10 bg-[#062b1a] text-white":"border-border bg-white text-primary-text"}`,value:t.apiSettings.backupSchedule?.monthOfYear??1,onChange:a=>t.updateApiSettings({backupSchedule:{...t.apiSettings.backupSchedule||{frequency:"yearly",startTime:"00:00"},monthOfYear:parseInt(a.target.value)}}),children:[e.jsx("option",{value:1,children:"January"}),e.jsx("option",{value:2,children:"February"}),e.jsx("option",{value:3,children:"March"}),e.jsx("option",{value:4,children:"April"}),e.jsx("option",{value:5,children:"May"}),e.jsx("option",{value:6,children:"June"}),e.jsx("option",{value:7,children:"July"}),e.jsx("option",{value:8,children:"August"}),e.jsx("option",{value:9,children:"September"}),e.jsx("option",{value:10,children:"October"}),e.jsx("option",{value:11,children:"November"}),e.jsx("option",{value:12,children:"December"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"backup-day-of-year",className:`block text-xs font-bold uppercase tracking-wider mb-2 ${s?"text-white/70":"text-muted"}`,children:"Day"}),e.jsx(f,{id:"backup-day-of-year",name:"backup-day-of-year",type:"number",min:1,max:31,className:"w-full",value:t.apiSettings.backupSchedule?.dayOfMonth??1,onChange:a=>t.updateApiSettings({backupSchedule:{...t.apiSettings.backupSchedule||{frequency:"yearly",startTime:"00:00"},dayOfMonth:parseInt(a.target.value)}})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"backup-start-time",className:`block text-xs font-bold uppercase tracking-wider mb-2 ${s?"text-white/70":"text-muted"}`,children:"Start Time"}),e.jsx(f,{id:"backup-start-time",name:"backup-start-time",type:"time",className:"w-full",value:t.apiSettings.backupSchedule?.startTime||"00:00",onChange:a=>t.updateApiSettings({backupSchedule:{...t.apiSettings.backupSchedule||{frequency:"daily"},startTime:a.target.value}})})]}),e.jsx("div",{className:"flex items-end col-span-1 sm:col-span-2 lg:col-span-3",children:e.jsxs("div",{className:`text-xs italic p-2 rounded-lg w-full ${s?"text-white/60 bg-white/5":"text-muted bg-gray-100"}`,children:["Next run: ",t.apiSettings.backupSchedule?.nextRun?new Date(t.apiSettings.backupSchedule.nextRun).toLocaleString():"Saving will calculate the next run based on this schedule"]})})]})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("h4",{className:"font-semibold text-primary-text mb-2",children:"Database Backups"}),e.jsx("p",{className:"text-sm text-muted mb-4",children:"Manage system restoration points. Backups are stored securely in Supabase."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(p,{type:"button",size:"sm",onClick:async()=>{const a=prompt("Enter a name for this restoration point:");if(a){o(!0);try{await l.createBackup(a),n({message:"Restoration point created!",type:"success"}),k()}catch{n({message:"Failed to create backup.",type:"error"})}finally{o(!1)}}},isLoading:m,children:[e.jsx(O,{className:"mr-2 h-4 w-4"})," Create Restoration Point"]}),e.jsxs(p,{type:"button",variant:"outline",size:"sm",onClick:h,children:[e.jsx(I,{className:"mr-2 h-4 w-4"})," Instant Export (JSON)"]})]}),e.jsxs("div",{className:"bg-page rounded-lg border border-border overflow-hidden",children:[e.jsx("div",{className:"px-4 py-2 bg-muted/30 border-b border-border text-xs font-bold text-muted uppercase tracking-wider",children:"Recent Restoration Points"}),e.jsx("div",{className:"max-h-60 overflow-y-auto",children:v.length===0?e.jsx("div",{className:"p-8 text-center text-sm text-muted",children:"No restoration points found."}):e.jsx("div",{className:"divide-y divide-border",children:v.map(a=>e.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-muted/10 transition-colors",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-primary-text",children:a.name}),e.jsxs("div",{className:"text-xs text-muted",children:[new Date(a.createdAt).toLocaleString()," • ",Math.round(a.sizeBytes/1024)," KB • By ",a.createdByName]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{title:"Restore from this point",className:"p-2 hover:bg-accent/10 rounded-lg text-accent-dark transition-colors",onClick:async()=>{if(confirm(`CAUTION: This will overwrite CURRENT data with the snapshot from ${a.name}. Action cannot be undone. Proceed?`)){o(!0);try{await l.restoreFromBackup(a.id),n({message:"System restored successfully!",type:"success"}),setTimeout(()=>window.location.reload(),2e3)}catch(i){n({message:`Restore failed: ${i.message}`,type:"error"})}finally{o(!1)}}},children:e.jsx(O,{className:"h-4 w-4"})}),e.jsx("button",{title:"Download snapshot",className:"p-2 hover:bg-primary/10 rounded-lg text-primary transition-colors",onClick:async()=>{try{const{data:i}=await l.supabase.storage.from("backups").download(a.snapshotPath),u=window.URL.createObjectURL(i),b=document.createElement("a");b.href=u,b.download=`backup_${a.name.replace(/\s+/g,"_")}.json`,b.click()}catch{n({message:"Download failed.",type:"error"})}},children:e.jsx(I,{className:"h-4 w-4"})})]})]},a.id))})})]})]})]})]})]}),e.jsxs(g,{title:"Notification Settings",icon:K,children:[e.jsx("p",{className:"text-sm text-muted -mt-2",children:"Configure how the system sends notifications."}),e.jsx("div",{className:"space-y-6 pt-4",children:e.jsx(d,{id:"email-notif-enabled",label:"Enable Email Notifications",description:"Send emails for important events like task assignments. SMTP must be configured on the backend.",checked:t.notifications.email.enabled,onChange:a=>t.updateNotificationSettings({email:{enabled:a.target.checked}})})})]})]})]})]})};export{le as ApiSettings};
