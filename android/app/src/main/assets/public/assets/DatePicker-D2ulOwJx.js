import{k as G,U as H,j as t}from"./index-D5q3SS3D.js";import{b as c,j as J,u as K,k as X}from"./react-vendor-BUaIliXj.js";import{c as Y,h as Z,A as ee,B as te,b as se,f as i,D as ae,i as re,k as ne,E as u,s as n,z as le,y as ce}from"./utils-vendor-DmorxLnX.js";import{i as O,j as ie,f as oe}from"./ui-vendor-B8EvWqdc.js";const fe=({label:o,id:f,error:b,value:a,onChange:y,maxDate:d,minDate:m,...E})=>{const[T,k]=c.useState(!1),s=G("(max-width: 767px)"),w=c.useRef(null),{theme:L}=H(),R=L==="dark",[N,z]=J(),W=K(),[x,v]=c.useState(a?new Date(a+"T12:00:00"):new Date),D=s&&N.get("picker")===f,p=s?D:T;c.useEffect(()=>{p&&v(a?new Date(a+"T12:00:00"):new Date)},[p,a]);const g=()=>{s&&D?W(-1):k(!1)},_=()=>{if(s){const e=new URLSearchParams(N);e.set("picker",f),z(e)}else k(!0)},l=a?new Date(a+"T12:00:00"):null,A=e=>{m&&u(n(e),n(m))||d&&u(n(d),n(e))||(y&&y(i(e,"yyyy-MM-dd")),s||g())},M=e=>{v(r=>e==="next"?le(r,1):ce(r))};c.useEffect(()=>{const e=r=>{!s&&w.current&&!w.current.contains(r.target)&&k(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[s]);const B=c.useMemo(()=>{const e=Y(x),r=Z(e),j=ee(e),h=te(r);return se({start:j,end:h})},[x]),F=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],$=t.jsxs("div",{className:`
        ${s?"date-picker-screen animate-slide-up isolate":"absolute mt-2 left-0 z-[70] rounded-2xl shadow-2xl overflow-hidden border border-emerald-900/30 w-[320px] bg-[#041b0f] p-4 text-white animate-fade-in-scale"}
      `,children:[s?t.jsxs("header",{className:"flex items-center p-4 border-b border-white/10 bg-[#041b0f] sticky top-0 z-10 flex-shrink-0",children:[t.jsx("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),g()},className:"date-picker-btn p-3 -ml-2 bg-emerald-500/20 text-emerald-400 rounded-xl",children:t.jsx(O,{className:"h-6 w-6"})}),t.jsxs("h2",{className:"ml-4 text-xl font-bold text-white tracking-tight",children:["Select ",o||"Date"]})]}):null,t.jsxs("div",{className:`${s?"flex-1 flex flex-col overflow-y-auto":""}`,children:[t.jsxs("div",{className:`${s?"flex-shrink-0 flex flex-col justify-center max-w-lg mx-auto w-full px-6 pt-12 mt-auto":""}`,children:[t.jsxs("div",{className:`flex items-center justify-between px-1 flex-shrink-0 ${s?"mb-8":"mb-6 pt-2"}`,children:[t.jsx("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),M("prev")},className:`date-picker-btn p-3 rounded-2xl ${s?"bg-emerald-500/10 text-emerald-400 scale-110":"hover:bg-emerald-800/20 text-emerald-400"}`,children:t.jsx(O,{className:`${s?"h-7 w-7":"h-5 w-5"}`})}),t.jsx("div",{className:`${s?"text-2xl font-black uppercase tracking-[0.15em] text-emerald-50":"text-base font-bold text-white"}`,children:i(x,"MMMM yyyy")}),t.jsx("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),M("next")},className:`date-picker-btn p-3 rounded-2xl ${s?"bg-emerald-500/10 text-emerald-400 scale-110":"hover:bg-emerald-800/20 text-emerald-400"}`,children:t.jsx(ie,{className:`${s?"h-7 w-7":"h-5 w-5"}`})})]}),t.jsx("div",{className:"grid grid-cols-7 w-full mb-4 flex-shrink-0",children:F.map(e=>t.jsx("div",{className:"text-center text-[10px] font-black uppercase tracking-[0.3em] text-emerald-500/40",children:e},e))}),t.jsx("div",{className:"grid grid-cols-7 w-full gap-2 sm:gap-4 flex-shrink-0",children:B.map((e,r)=>{const j=ae(e,x),h=l&&re(e,l),V=ne(e),q=m&&u(n(e),n(m)),Q=d&&u(n(d),n(e)),S=q||Q;return t.jsx("button",{type:"button",onClick:P=>{P.preventDefault(),P.stopPropagation(),A(e)},disabled:S,className:`
                    date-picker-btn relative aspect-square text-base font-black rounded-full transition-all duration-300
                    ${j?"text-white":"text-white/5 opacity-20"}
                    ${S?"opacity-5 cursor-not-allowed scale-90":"hover:bg-emerald-500/10 active:scale-90"}
                    ${h?"!bg-emerald-500 !text-white shadow-[0_0_30px_rgba(16,185,129,0.4)] !opacity-100 scale-110 z-10":""}
                    ${V&&!h?"ring-2 ring-emerald-500/30 text-emerald-400":""}
                  `,children:i(e,"d")},r)})})]}),s&&t.jsx("div",{className:"p-10 pb-[40vh] flex justify-end flex-shrink-0 mt-8 mb-auto",children:t.jsxs("div",{className:`
                p-6 bg-white/5 backdrop-blur-2xl rounded-[2.5rem] border border-white/10 
                flex flex-col items-center gap-4 transition-all duration-500
                ${l?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}
            `,children:[t.jsxs("div",{className:"text-center space-y-1",children:[t.jsx("span",{className:"block text-[10px] font-black uppercase tracking-[0.2em] text-white/30",children:"Active Selection"}),t.jsx("span",{className:"block text-lg font-bold text-emerald-400 tabular-nums",children:l?i(l,"dd MMM, yyyy"):"â€”"})]}),t.jsx("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),g()},disabled:!l,className:"date-picker-btn bg-emerald-500 text-white px-8 py-3 text-sm font-black uppercase tracking-widest rounded-2xl shadow-xl shadow-emerald-500/20 active:scale-95",children:"Done"})]})})]})]}),I=`${s?"fo-input":"form-input"} ${b?s?"fo-input--error":"form-input--error":""} flex justify-between items-center cursor-pointer ${E.className||""}`,C=l||new Date,U=a&&!isNaN(C.getTime())?i(C,"dd MMM, yyyy"):"Select date";return t.jsxs("div",{ref:w,className:"w-full",children:[o&&t.jsx("div",{className:`block text-xs font-semibold mb-1.5 uppercase tracking-wider ${R?"text-emerald-500/60":"text-muted"}`,children:o}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{id:f,className:I,onClick:_,role:"button","aria-haspopup":"dialog","aria-expanded":p,"aria-label":`Date picker for ${o}`,children:[t.jsx("span",{className:a?s?"text-white":"text-primary-text":s?"text-white/30":"text-muted",children:U}),t.jsx(oe,{className:"h-4 w-4 text-emerald-500/50"})]}),p&&(s?X.createPortal($,document.body):$)]}),b&&t.jsx("p",{className:"mt-1.5 text-[10px] font-medium text-red-500 tracking-wide",children:b})]})};export{fe as D};
