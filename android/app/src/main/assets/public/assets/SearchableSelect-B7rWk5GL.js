import{j as e}from"./index-D5q3SS3D.js";import{b as l}from"./react-vendor-BUaIliXj.js";import{aj as S,X as $,C as E}from"./ui-vendor-B8EvWqdc.js";const O=({label:p,placeholder:v="Search...",options:j,value:s,onChange:o,error:u,className:w="",labelClassName:N="",isMobile:n=!1,isLoading:m=!1,allowCustom:c=!1})=>{const[d,r]=l.useState(!1),[a,i]=l.useState(s||""),h=l.useRef(null),f=l.useId();l.useEffect(()=>{i(s||"")},[s]),l.useEffect(()=>{const t=x=>{h.current&&!h.current.contains(x.target)&&(r(!1),c?a!==s&&o(a):i(s||""))};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[s,c,a,o]);const b=j.filter(t=>t.name.toLowerCase().includes(a.toLowerCase())),g=t=>{o(t),i(t),r(!1)},y=()=>{o(""),i(""),r(!1)},k=t=>{const x=t.target.value;i(x),c&&o(x),r(!0)};return e.jsxs("div",{className:`relative ${w}`,ref:h,style:{zIndex:d?100:0},children:[p&&e.jsx("label",{htmlFor:f,className:`block text-sm font-semibold mb-2 ${N}`,children:p}),e.jsxs("div",{className:`relative flex items-center ${n?"public-form-input !p-0 overflow-visible":"form-input !p-0"} transition-all duration-200`,children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted/60 pointer-events-none z-10",children:e.jsx(S,{className:"h-4 w-4"})}),e.jsx("input",{id:f,type:"text",className:`w-full bg-transparent border-none focus:ring-0 pl-11 pr-10 py-[14px] text-sm outline-none transition-all duration-200 ${n?"text-white placeholder:text-white/40":"text-primary-text placeholder:text-muted"}`,placeholder:m?"Loading...":v,value:a,onChange:k,onFocus:t=>{r(!0),t.target.scrollIntoView({behavior:"smooth",block:"center"})},onKeyDown:t=>{t.key==="Enter"&&c&&r(!1)},disabled:m}),e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-2 z-10",children:m?e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-accent border-t-transparent rounded-full"}):e.jsxs(e.Fragment,{children:[a&&e.jsx("button",{type:"button",onClick:y,className:"text-muted hover:text-white transition-colors p-1",children:e.jsx($,{className:"h-4 w-4"})}),e.jsx("div",{className:`text-muted transition-transform duration-200 ${d?"rotate-180":""} cursor-pointer`,onClick:()=>r(!d),children:e.jsx(E,{className:"h-4 w-4"})})]})})]}),d&&e.jsx("div",{className:`absolute z-[9999] w-full mt-2 rounded-xl shadow-[0_20px_50px_rgba(0,0,0,0.5)] border transition-all overflow-hidden ${n?"bg-[#0a2718]/98 backdrop-blur-xl border-white/20 max-h-[250px]":"bg-white border-border max-h-[300px]"} overflow-y-auto no-scrollbar scroll-smooth`,children:b.length>0?e.jsx("div",{className:"py-2",children:b.map(t=>e.jsx("button",{type:"button",className:`w-full text-left px-4 py-3.5 text-sm transition-all border-l-4 ${n?"text-gray-300 hover:bg-white/10 hover:text-white":"text-primary-text hover:bg-page"} ${s===t.name?n?"bg-accent/30 text-accent-light font-extrabold border-accent":"bg-accent/5 text-accent font-bold border-accent":"border-transparent"}`,onClick:()=>g(t.name),children:t.name},t.id))}):e.jsxs("div",{className:`px-4 py-8 text-center text-sm ${n?"text-gray-500":"text-muted italic"}`,children:['No results found for "',a,'"',c&&e.jsx("div",{className:"mt-2 text-accent font-bold cursor-pointer",onClick:()=>r(!1),children:"Use custom name"})]})}),u&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:u})]})};export{O as S};
