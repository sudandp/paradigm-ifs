import{u as d,a as m,b as x,i as p,j as e,P as u}from"./index-D5q3SS3D.js";import{u as f}from"./react-vendor-BUaIliXj.js";import{L as h}from"./ui-vendor-B8EvWqdc.js";import"./pdf-vendor-CB_F1AVu.js";import"./capacitor-vendor-CqiIOUn1.js";import"./utils-vendor-DmorxLnX.js";import"./supabase-7WG3J4rU.js";const C=()=>{const{user:s,logout:b}=d(),{permissions:l}=m(),o=f();if(!s)return null;const a=(()=>{if(!s||!l)return[];const t=s.roleId?.toLowerCase()||"",r=s.role?.toLowerCase()||"",c=r.replace(/\s+/g,"_");return l[t]||l[r]||l[c]||l[s.role]||[]})(),i=s?x.filter(t=>p(s.role)||a.includes(t.permission)).sort((t,r)=>t.label.localeCompare(r.label)):[],n=()=>{o("/auth/logout")};return e.jsxs("div",{className:"min-h-[calc(100vh-180px)] flex flex-col pb-4 bg-[#041b0f]",children:[e.jsx("div",{className:"bg-[#041b0f] p-6 rounded-3xl shadow-lg -mx-4 mb-6",children:e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(u,{photoUrl:s.photoUrl,seed:s.id,className:"h-14 w-14 rounded-full border-2 border-[#22c55e]"}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Hi, ",s.name.split(" ")[0]]}),e.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider",children:s.role.replace(/_/g," ")})]})]})})}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4 px-2",children:"Apps & Features"}),e.jsx("div",{className:"grid grid-cols-3 gap-3 px-2 flex-1 content-start",children:i.map(t=>e.jsxs("div",{onClick:()=>o(t.to),className:"flex flex-col items-center justify-center p-4 bg-[#041b0f] border border-[#1f3d2b] rounded-2xl active:scale-95 transition-transform duration-150 shadow-md min-h-[110px]",children:[e.jsx("div",{className:"p-3 bg-[#041b0f] rounded-full mb-2 text-[#22c55e]",children:e.jsx(t.icon,{className:"w-7 h-7"})}),e.jsx("span",{className:"text-xs text-center text-gray-300 font-medium leading-tight",children:t.label})]},t.to))})]}),e.jsx("div",{className:"px-2 mt-6",children:e.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center space-x-2 p-4 bg-[#1f2937] text-white rounded-xl font-semibold active:bg-[#374151] transition-colors",children:[e.jsx(h,{className:"w-5 h-5"}),e.jsx("span",{children:"Log Out"})]})})]})};export{C as default};
