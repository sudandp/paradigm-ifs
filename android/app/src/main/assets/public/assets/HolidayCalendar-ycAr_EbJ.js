import{j as e,B as d,F as N}from"./index-D5q3SS3D.js";import{b as l}from"./react-vendor-BUaIliXj.js";import{i as D,j as S,a2 as C}from"./ui-vendor-B8EvWqdc.js";import{b as M,h as k,c,g as A,y as F,f as m,z as H,i as n}from"./utils-vendor-DmorxLnX.js";const E=({adminHolidays:x,userSelectedHolidays:u,isLoading:h=!1})=>{const[t,i]=l.useState(new Date),p=t.getFullYear(),f=l.useMemo(()=>M({start:c(t),end:k(t)}),[t]),g=s=>N.some(r=>{const w=r.date.startsWith("-")?r.date:`-${r.date}`,v=new Date(`${p}${w}`.replace(/-/g,"/"));return n(v,s)})?"fixed":x.some(r=>n(new Date(r.date),s))?"admin":u.some(r=>n(new Date(r.holidayDate),s))?"user":"neutral",y=s=>{switch(s){case"fixed":return"bg-emerald-600 text-white border-emerald-700 shadow-sm";case"admin":return"bg-amber-500 text-white border-amber-600 shadow-sm";case"user":return"bg-violet-600 text-white border-violet-700 shadow-sm";default:return"bg-gray-50 text-gray-400 border-gray-100"}},b=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],j=A(c(t));return e.jsxs("div",{className:"bg-card p-5 rounded-xl shadow-card border border-border w-full md:max-w-[350px] flex flex-col min-h-[460px]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 flex-shrink-0",children:[e.jsx("h3",{className:"text-sm font-semibold text-primary-text",children:"Holiday Calendar"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(d,{variant:"secondary",size:"sm",className:"btn-icon !p-1 h-6 w-6",onClick:()=>i(F(t)),children:e.jsx(D,{className:"h-3 w-3"})}),e.jsx("span",{className:"font-medium min-w-[80px] text-center text-sm",children:m(t,"MMMM yyyy")}),e.jsx(d,{variant:"secondary",size:"sm",className:"btn-icon !p-1 h-6 w-6",onClick:()=>i(H(t,1)),children:e.jsx(S,{className:"h-3 w-3"})})]})]}),h?e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx(C,{className:"h-5 w-5 animate-spin text-muted"})}):e.jsxs("div",{className:"grid grid-cols-7 gap-1 flex-1",children:[b.map(s=>e.jsx("div",{className:"text-center text-[10px] font-bold text-muted uppercase tracking-wider py-1",children:s},s)),Array.from({length:j}).map((s,a)=>e.jsx("div",{className:"aspect-square"},`empty-${a}`)),f.map(s=>{const a=g(s),o=y(a);return e.jsxs("div",{className:`aspect-square rounded border flex flex-col items-center justify-center ${o} transition-colors group relative cursor-help`,children:[e.jsx("span",{className:"text-xs font-bold",children:m(s,"d")}),a!=="neutral"&&e.jsx("div",{className:"absolute bottom-[-40px] left-1/2 -translate-x-1/2 bg-gray-900 text-white text-[10px] py-1 px-2 rounded opacity-0 group-hover:opacity-100 whitespace-nowrap z-20 pointer-events-none transition-opacity",children:a==="fixed"?"Common Holiday":a==="admin"?"Admin Allocated":"User Selected"})]},s.toISOString())})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50 grid grid-cols-3 gap-x-2 gap-y-2 text-[11px] text-muted-foreground uppercase font-bold tracking-tight",children:[e.jsxs("div",{className:"flex items-center gap-1.5 justify-center",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-600 rounded-full flex-shrink-0"})," Gov"]}),e.jsxs("div",{className:"flex items-center gap-1.5 justify-center",children:[e.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full flex-shrink-0"})," Admin"]}),e.jsxs("div",{className:"flex items-center gap-1.5 justify-center",children:[e.jsx("div",{className:"w-2 h-2 bg-violet-600 rounded-full flex-shrink-0"})," User"]})]})]})};export{E as H};
